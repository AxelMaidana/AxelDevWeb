<header
    class="relative w-full h-[100dvh] flex flex-col justify-center items-center px-6 overflow-hidden"
>
    <!-- Video Background -->
    <div
        class="absolute inset-0 w-full h-full z-0 overflow-hidden bg-background"
    >
        <video
            autoplay
            loop
            muted
            playsinline
            preload="auto"
            class="absolute w-full h-full object-cover scale-105 opacity-[0.35] blur-[8px]"
        >
            <source src="/bg.webm" type="video/webm" />
        </video>
        <!-- Overlay -->
        <div
            class="absolute inset-0 bg-gradient-to-b from-transparent via-background/40 to-background"
        >
        </div>
    </div>

    <!-- Content -->
    <div
        class="relative z-10 text-center max-w-5xl space-y-8 flex flex-col items-center"
    >
        <!-- Badge -->
        <div
            class="hero-element inline-flex items-center gap-2 border border-white/5 bg-surface/50 backdrop-blur-md px-4 py-1.5 rounded-full shadow-sm"
        >
            <span class="relative flex h-2 w-2">
                <span
                    class="animate-ping absolute inline-flex h-full w-full rounded-full bg-emerald-400 opacity-75"
                ></span>
                <span
                    class="relative inline-flex rounded-full h-2 w-2 bg-emerald-500"
                ></span>
            </span>
            <span
                class="text-xs font-semibold text-primary uppercase tracking-wide"
                >Disponible Q4 2026</span
            >
        </div>

        <!-- Main Title -->
        <div class="overflow-hidden pb-4 px-2">
            <h1
                class="hero-title text-5xl sm:text-7xl md:text-8xl lg:text-[7.5rem] font-semibold text-primary tracking-tight leading-[1.05]"
            >
                Ingeniería Visual.<br />
                <span class="text-secondary">Código Escalable.</span>
            </h1>
        </div>

        <!-- Subtitle -->
        <p
            class="hero-element text-lg md:text-xl text-muted font-normal max-w-2xl leading-relaxed"
        >
            Diseño y desarrollo web enfocado en la conversión. Transformo ideas
            complejas en interfaces digitales minimalistas y de alto
            rendimiento.
        </p>

        <!-- Actions -->
        <div
            class="hero-element flex flex-col sm:flex-row items-center justify-center gap-4 pt-6"
        >
            <a
                href="#projects"
                class="h-12 px-8 rounded-full bg-primary text-background text-sm font-semibold transition-all flex items-center gap-2 hover:bg-white hover:scale-105 shadow-sm"
            >
                Ver Proyectos
                <iconify-icon icon="solar:arrow-right-up-linear" class="text-lg"
                ></iconify-icon>
            </a>
            <a
                href="#contact"
                class="h-12 px-8 rounded-full border border-white/10 bg-surface/50 hover:bg-surface-hover text-primary text-sm font-medium transition-all flex items-center gap-2 backdrop-blur-sm shadow-sm hover:border-white/20"
            >
                Contactame
            </a>
        </div>
    </div>

    <!-- Scroll Indicator -->
    <div
        class="hero-element absolute bottom-12 left-1/2 -translate-x-1/2 flex flex-col items-center gap-3"
    >
        <span
            class="text-[10px] font-medium text-muted uppercase tracking-widest"
            >Deslizar</span
        >
        <div
            class="w-[1px] h-12 bg-gradient-to-b from-muted to-transparent rounded-full"
        >
        </div>
    </div>
</header>

<script>
    import { gsap } from "gsap";

    function initHeroAnimation() {
        // Force play video for mobile browsers
        const video = document.querySelector("video");
        if (video) {
            video.play().catch(() => {
                // Autoplay was prevented, usually by low power mode
                console.log("Video autoplay prevented by browser");
            });
        }

        const tl = gsap.timeline({ defaults: { ease: "power3.out" } });

        gsap.set(".hero-title", { y: 120, autoAlpha: 0 });
        gsap.set(".hero-element", { y: 40, autoAlpha: 0 });

        tl.to(".hero-title", {
            y: 0,
            autoAlpha: 1,
            duration: 1.4,
            stagger: 0.1,
            delay: 0.1,
        }).to(
            ".hero-element",
            {
                y: 0,
                autoAlpha: 1,
                duration: 1.2,
                stagger: 0.1,
            },
            "-=1.0",
        );
    }

    initHeroAnimation();
    document.addEventListener("astro:page-load", initHeroAnimation);
</script>
