---
import ProjectCard from "../ui/ProjectCard.astro";
import { projectsData } from "../../data/projects";

// Determine bento grid classes based on index for a 5-col layout
const getBentoClass = (index: number) => {
    // 0: 2 cols
    // 1: 3 cols
    // 2: 3 cols
    // 3: 2 cols
    const sequence = index % 4;
    if (sequence === 0 || sequence === 3) {
        return "lg:col-span-2";
    }
    return "lg:col-span-3";
};
---

<section id="projects" class="max-w-screen-xl mx-auto px-6 py-24 md:py-32">
    <div
        class="flex flex-col sm:flex-row sm:items-end justify-between mb-12 lg:mb-16 gap-6"
        data-reveal="fade-up"
    >
        <div class="flex flex-col max-w-2xl">
            <h2
                class="text-3xl md:text-5xl text-primary font-semibold tracking-tight mb-4 leading-tight"
            >
                Selected Work
            </h2>
            <p
                class="text-secondary text-base md:text-lg font-normal leading-relaxed"
            >
                A curated collection of digital experiences designed to perform
                and inspire.
            </p>
        </div>

        <a
            href="#"
            class="group bg-surface hover:bg-surface-hover border border-white/5 px-6 py-3 rounded-full text-sm font-medium text-primary flex items-center gap-2 transition-all md:translate-y-[-10px] shadow-sm hover:border-white/10"
        >
            View all projects
            <iconify-icon
                icon="solar:arrow-right-linear"
                class="group-hover:translate-x-1 transition-transform"
            ></iconify-icon>
        </a>
    </div>

    <!-- Bento Grid Container (5 Columns) -->
    <div
        class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4 sm:gap-6"
        data-reveal="stagger"
    >
        {
            projectsData.map((project, index) => (
                <ProjectCard
                    project={project}
                    className={getBentoClass(index)}
                    isWide={false}
                />
            ))
        }
    </div>
</section>
